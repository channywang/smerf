<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: SmerfAnswer</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">SmerfAnswer</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/models/smerf_answer_rb.html">
                app/models/smerf_answer.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="SmerfItem.html">
                SmerfItem
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
This class contains details about answers to form questions, it derives
from <a href="SmerfItem.html">SmerfItem</a>.
</p>
<p>
It knows how to handle subquestions. Subquestions are additional questions
that a user can answer if certain answers are selected. An example
subquestion would be where an <em>Other</em> is provided as one of the
answers to a question, a subquestion can be defined to display a text field
to accept more information.
</p>
<p>
Question answers are defined using the following fields:
</p>
<table>
<tr><td valign="top">code:</td><td>Code to uniquely identify the answer, code needs to be unique for each
question (mandatory). The value specified here will be saved as the users
response when the answer is selected.

</td></tr>
<tr><td valign="top">answer:</td><td>The text that will be displayed to the user (mandatory)

</td></tr>
<tr><td valign="top">default:</td><td>If set to Y then this answer will be selected by default (optional)

</td></tr>
<tr><td valign="top">sort_order:</td><td>The sort order for this answer (mandatory)

</td></tr>
<tr><td valign="top">subquestions:</td><td>Some answers may need additional information, another question can be
defined to obtain this information. To define a subquestion the same fields
that define a normal question is used (optional)

</td></tr>
</table>
<p>
Here is an example answer definition:
</p>
<pre>
     answers:
       1_20:
         code: 1
         answer: | 1-20
         sort_order: 1
         default: N
         ...
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000008">clear</a>&nbsp;&nbsp;
      <a href="#M000009">new</a>&nbsp;&nbsp;
      <a href="#M000010">validate</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">answer</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">code</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">default</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">sort_order</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">subquestion_objects</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="SmerfAnswer.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('SmerfAnswer.src/M000008.html');return false;">
          <span class="method-name">clear</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Clear all class variables
</p>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="SmerfAnswer.src/M000009.html" target="Code" class="method-signature"
            onclick="popupCode('SmerfAnswer.src/M000009.html');return false;">
          <span class="method-name">new</span><span class="method-args">(item, sort_order_field, owner_ident)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Class constructor
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="SmerfAnswer.src/M000010.html" target="Code" class="method-signature"
            onclick="popupCode('SmerfAnswer.src/M000010.html');return false;">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This method performs the bulk of the processing. It processes the answer
definition making sure that all mandatory fields have values. If any
subquestions are found they will be processed and validated. Subquestions
are treated as normal questions and processed by the <a
href="SmerfQuestion.html">SmerfQuestion</a> class.
</p>
<p>
As it processes the data it also performs validation on the data to make
sure all required fields have been specified in the definition file. If any
errors are found a <em>RuntimeError</em> exception will be raised.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>